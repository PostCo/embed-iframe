function getHeaderElementByRegex(){const e=document.querySelectorAll("*"),t=/^shopify-section-sections--\d+__header.*$/;let o;for(let s=0;s<e.length;s++)if(t.test(e[s].id)){o=e[s];break}return o}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#postco360-iframe"),t=new URLSearchParams(window.location.search),o=document.getElementById("shopify-section-header")||getHeaderElementByRegex();if(e){const o=document.createElement("iframe");Array.from(e.attributes).forEach(e=>{"src"!==e.name&&o.setAttribute(e.name,e.value)});const s=e.src,r=new URL(s);if(t.has("postco_redirect_path")){const e=t.get("postco_redirect_path");if(e.includes("?")){const[t,o]=e.split("?");r.pathname=t,r.search=o}else r.pathname=e}r.searchParams.set("parentUrl",window.location.href),o.src=r.toString(),e.parentNode.replaceChild(o,e),e=o}if(t.has("disable-resize-observer")||!e)return;addEventListener("scroll",()=>{const t=window.scrollY+window.innerHeight,o=e.offsetTop+e.offsetHeight;e.contentWindow.postMessage({type:"stickyBottomAppBarPosition",data:t<o?o-t:0},"*")});const s={width:"100vw",height:"100dvh",position:"fixed",top:"0",left:"0",zIndex:"3"};window.onmessage=t=>{if(!t.origin.match(/(postco\.co|localhost)/))return;let{type:r,height:n}=t.data;switch(n+=50,r){case"scrollToTop":window.scrollTo(0,0),e.scrollTo(0,0);break;case"scrollUp":window.scrollTo({top:0,behavior:"smooth"});break;case"scrollDown":const t=e.scrollHeight,r=window.innerHeight;window.scrollBy({top:t-r+150,behavior:"smooth"});break;case"stickyBottomAppBarReposition":window.dispatchEvent(new CustomEvent("scroll"));break;case"enterFullscreen":Object.entries(s).forEach(([t,o])=>e.style[t]=o);break;case"exitFullscreen":Object.entries(s).forEach(([t,o])=>e.style[t]="");break;case"showShopifyHeader":o&&(o.style.display="");break;case"hideShopifyHeader":o&&(o.style.display="none")}}});