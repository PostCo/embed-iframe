function getHeaderElementByRegex(){let e=document.querySelectorAll("*"),t=/^shopify-section-sections--\d+__header.*$/,o;for(let s=0;s<e.length;s++)if(t.test(e[s].id)){o=e[s];break}return o}document.addEventListener("DOMContentLoaded",function(){let e=document.querySelector("#postco360-iframe"),t=new URLSearchParams(window.location.search),o=document.getElementById("shopify-section-header")||getHeaderElementByRegex();if(e){let s=e.src,r=new URL(s);if(t.has("postco_redirect_path")){let l=t.get("postco_redirect_path");if(l.includes("?")){let[a,i]=l.split("?");r.pathname=a,r.search=i}else r.pathname=l}r.searchParams.set("parentUrl",window.location.href),e.src=r.toString()}if(t.has("disable-resize-observer")||!e)return;addEventListener("scroll",()=>{let t=window.scrollY+window.innerHeight,o=e.offsetTop+e.offsetHeight;e.contentWindow.postMessage({type:"stickyBottomAppBarPosition",data:t<o?o-t:0},"*")});let c=()=>{window.dispatchEvent(new CustomEvent("scroll"))},n={width:"100vw",height:"100dvh",position:"fixed",top:"0",left:"0",zIndex:"3"};window.onmessage=t=>{if(!t.origin.match(/(postco\.co|localhost)/))return;let{type:s,height:r}=t.data;switch(r+=50,s){case"scrollToTop":window.scrollTo(0,0),e.scrollTo(0,0);break;case"scrollUp":window.scrollTo({top:0,behavior:"smooth"});break;case"scrollDown":let l=e.scrollHeight,a=window.innerHeight;window.scrollBy({top:l-a+150,behavior:"smooth"});break;case"stickyBottomAppBarReposition":c();break;case"enterFullscreen":Object.entries(n).forEach(([t,o])=>e.style[t]=o);break;case"exitFullscreen":Object.entries(n).forEach(([t,o])=>e.style[t]="");break;case"showShopifyHeader":o&&(o.style.display="");break;case"hideShopifyHeader":o&&(o.style.display="none")}}});